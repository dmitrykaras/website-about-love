<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='custom.css') }}">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/icon.png') }}">
    <title>Мы у метро</title>
</head>
<body>
    <div class="header-text fade-in">
        08:35 или 10:25 — и снова кто-то из нас<br> ждёт другого у метро)
    </div>
    <div class="text-bottom fade-in">
        <a href="https://yandex.ru/maps/-/CHqEM66x" target="_blank">Сенная площадь</a>
    </div>

    <div class="or-container fade-in">
        или
    </div>

    <a href="/love_general_2" class="button button--origin">Продолжить &gt;&gt;&gt;</a>

    <div class="image-container left fade-in">
        <img src="{{ url_for('static', filename='images/love_general_1/d_metro.png') }}" alt="Изображение 1" 
        data-sound="{{ url_for('static', filename='sounds/sound1.mp3') }}">
        <div class="image-tooltip">ну и где он?(</div>
    </div>
    <div class="image-container right fade-in">
        <img src="{{ url_for('static', filename='images/love_general_1/m_metro.png') }}" alt="Изображение 2"
        data-sound="{{ url_for('static', filename='sounds/sound1.mp3') }}">
        <div class="image-tooltip">ладно, подожду ещё...</div>
    </div>

    <div class="overlay fade-in--popup" id="overlay"></div>

    <div class="popup fade-in--popup" id="popup">
        <div class="popup-header">
            <button class="close-btn" id="close-btn">&times;</button>
        </div>
        <div class="popup-body">
            <p>я не знаю что сказать... <br>
               мяу мяу мяу)<br>
            </p>
        </div>
        <div class="popup-footer">
            <button class="btn" id="ok-btn">Ладно</button>
        </div>
    </div>

    <audio id="hover-sound"></audio>

    <script>
        // Получаем элементы DOM
        const imageContainers = document.querySelectorAll('.image-container');
        const overlay = document.getElementById('overlay');
        const popup = document.getElementById('popup');
        const closeBtn = document.getElementById('close-btn');
        const okBtn = document.getElementById('ok-btn');
        const hoverSound = document.getElementById('hover-sound');
        const images = document.querySelectorAll('.image-container img');
    
        // Функция для показа popup и overlay
        function showPopup() {
            overlay.style.display = 'block';
            popup.style.display = 'block';
        }
    
        // Функция для скрытия popup и overlay
        function hidePopup() {
            overlay.style.display = 'none';
            popup.style.display = 'none';
        }
    
        // Добавляем обработчики событий на изображения
        imageContainers.forEach(container => {
            container.addEventListener('click', showPopup);
        });
    
        // Добавляем обработчики событий на кнопки закрытия и OK
        closeBtn.addEventListener('click', hidePopup);
        okBtn.addEventListener('click', hidePopup);
    
        // Закрываем popup при клике на overlay
        overlay.addEventListener('click', hidePopup);

        images.forEach(image => {
            image.addEventListener('mouseenter', () => {
                const soundFile = image.getAttribute('data-sound');
                if (soundFile) {
                    hoverSound.pause();
                    hoverSound.currentTime = 0;
                    hoverSound.src = soundFile;
                    hoverSound.play();
                }
            });
        });
    </script>
</body>
</html>